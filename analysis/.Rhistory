dplyr::group_by(id) %>%
dplyr::summarise(max_score = max(score)) -> max_score_after_new_page
max_score_after_new_page
max_score_after_new_page %>%
ggplot(aes(x = max_score)) +
geom_bar()
max_score_after_new_page %>%
ggplot(aes(x = max_score)) +
geom_histogram()
max_score_after_new_page %>%
ggplot(aes(x = max_score)) +
geom_histogram() +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score)) +
geom_bar() +
scale_x_log10()
after_new_page %>%
dplyr::group_by(id) %>%
dplyr::summarise(max_score_after_new = max(score)) %>%
dplyr::ungroup() %>%
dplyr::select(max_score_after_new) %>%
dplyr::group_by(max_score_after_new) %>%
dplyr::summarise(count = n()) %>%
dplyr::ungroup() -> max_score_after_new_page
max_score_after_new_page
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_point() +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_point())
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_point()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_point(size = 2) +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_point(size = 4) +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_point(size = 4, fill = "transparent") +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_point(size = 4, fill = "transparent", shape = 1) +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_point(size = 2) +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_bar() +
geom_point(size = 2) +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_bar(stat = "identity") +
geom_point(size = 2) +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_bar(stat = "identity", width = 1) +
geom_point(size = 2) +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
geom_line() +
geom_bar(stat = "identity", width = 0.1) +
geom_point(size = 2) +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
# geom_line() +
geom_bar(stat = "identity", width = 0.1) +
geom_point(size = 2) +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
# geom_line() +
geom_bar(stat = "identity", width = 0.1) +
# geom_point(size = 2) +
scale_x_log10()
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
# geom_line() +
geom_bar(stat = "identity", width = 0.1) +
# geom_point(size = 2) +
scale_x_log10(breaks = c(1, 2, 3, 10, 30, 100))
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
# geom_line() +
geom_bar(stat = "identity", width = 0.1) +
# geom_point(size = 2) +
scale_x_log10(breaks = c(1, 2, 3, 10, 30, 100)) +
theme(panel.grid.minor.x = element_blank())
max_score_after_new_page %>%
ggplot(aes(x = max_score_after_new, y = count)) +
# geom_line() +
geom_bar(stat = "identity", width = 0.1) +
# geom_point(size = 2) +
scale_x_log10(breaks = c(1, 2, 3, 4, 5, 10, 30, 100)) +
theme(panel.grid.minor.x = element_blank())
max_score_after_new_page
sum(max_score_after_new_page$count)
n_stories <- sum(max_score_after_new_page$count)
n_stories
max_score_after_new_page %>%
mutate(fraction = count / n_stories)
max_score_after_new_page %>%
mutate(fraction = count / n_stories) %>%
mutate(cum_fraction = cumsum(fraction))
cumulated_fractions
n_stories <- sum(max_score_after_new_page$count)
max_score_after_new_page %>%
mutate(fraction = count / n_stories) %>%
mutate(cum_fraction = cumsum(fraction)) -> cumulated_fractions
cumulated_fractions
data %>%
group_by(id) %>%
summarise(max_score = max(score)) -> max_scores_by_id
max_scores_by_id
data %>%
group_by(id) %>%
summarise(max_score = max(score)) %>%
ungroup() %>%
group_by(max_score) %>%
summarise(count = n()) %>%
ungroup() -> max_scores_by_id
max_scores_by_id
n_stories <- dim(data %>% select(id) %>% unique())[1]
n_stories
data %>%
group_by(id) %>%
summarise(max_score = max(score)) %>%
ungroup() %>%
group_by(max_score) %>%
summarise(count = n()) %>%
ungroup() %>%
mutate(fraction = count / n_stories) -> max_scores_by_id
data %>%
group_by(id) %>%
summarise(max_score = max(score)) %>%
ungroup() %>%
group_by(max_score) %>%
summarise(count = n()) %>%
ungroup() %>%
mutate(fraction = count / n_stories) %>%
mutate(cum_fraction = cumsum(fraction)) -> max_scores_by_id
max_scores_by_id
data %>%
filter(!is.na(rank))
data %>%
filter(!is.na(rank)) %>%
summarize(min_score = min(score))
data %>%
filter(!is.na(rank))
data %>%
filter(!is.na(rank)) %>%
dplyr::mutate(samptime_coarse = lubridate::round_date(samptime_datetime, unit = "minute"))
filter(!is.na(rank)) %>%
dplyr::mutate(samptime_coarse = lubridate::round_date(samptime_datetime, unit = "minute"))
data %>%
select(id, score, rank, samptime_datetime) %>%
filter(!is.na(rank)) %>%
dplyr::mutate(samptime_coarse = lubridate::round_date(samptime_datetime, unit = "minute"))
data %>%
select(id, score, rank, samptime_datetime) %>%
filter(!is.na(rank)) %>%
dplyr::mutate(samptime_coarse = lubridate::round_date(samptime_datetime, unit = "minute")) %>%
group_by(score) %>%
summarize(count = n())
data %>%
select(id, score, rank, samptime_datetime) %>%
filter(!is.na(rank)) %>%
dplyr::mutate(samptime_coarse = lubridate::round_date(samptime_datetime, unit = "minute")) %>%
group_by(score) %>%
summarize(count = n()) -> top_page_scores
data %>%
select(id, score, rank, samptime_datetime) %>%
filter(!is.na(rank)) %>%
dplyr::mutate(samptime_coarse = lubridate::round_date(samptime_datetime, unit = "minute")) %>%
group_by(score) %>%
summarize(count = n()) %>%
ungroup() -> top_page_scores
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity")
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_log10()
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_histogram(stat = "identity") +
scale_x_log10()
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_log10()
top_page_scores
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_log10()
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_log10(limits = c(1, 10))
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_log10(limits = c(10, 100))
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_log10(limits = c(100, 1000))
data %>%
select(id, score, rank, samptime_datetime) %>%
filter(!is.na(rank)) %>%
dplyr::mutate(samptime_coarse = lubridate::round_date(samptime_datetime, unit = "minute")) %>%
group_by(score) %>%
summarize(count = n()) %>%
ungroup() -> top_page_scores
top_page_scores
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_log10(limits = c(1, 10))
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_log10(limits = c(10, 100))
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_log10(limits = c(100, 1000))
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(limits = c(100, 1000))
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(limits = c(10, 100))
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(limits = c(1, 10))
data %>%
select(id, score, rank, samptime_datetime) %>%
filter(!is.na(rank)) %>%
dplyr::mutate(samptime_coarse = lubridate::round_date(samptime_datetime, unit = "minute")) %>%
group_by(score) %>%
summarize(count = n()) %>%
ungroup() -> top_page_scores
top_page_scores
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(limits = c(1, 10))
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(limits = c(10, 100))
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(limits = c(100, 1000))
top_page_scores %>%
filter(score <= 10) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity")
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(breaks = seq(1, 10, by = 1), limits = c(10, 100))
top_page_scores %>%
filter(score <= 10) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(breaks = seq(1, 10, by = 1), limits = c(10, 100))
top_page_scores %>%
filter(score <= 10) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(breaks = seq(1, 10, by = 1))
top_page_scores %>%
filter(score <= 10) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(breaks = seq(1, 10, by = 1), limits = c(1, 10))
top_page_scores %>%
filter(score <= 10) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(breaks = seq(1, 10, by = 1))
seq(1, 10, by = 1)
top_page_scores %>%
filter(score <= 10) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_continuous(breaks = seq(1, 10, by = 1))
top_page_scores %>%
filter(score <= 10) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_continuous(breaks = seq(1, 10, by = 1)) +
theme(panel.grid.minor.x = element_blank())
top_page_scores %>%
filter((score > 10) & (score <= 100))
data %>%
select(id, score, rank, samptime_datetime) %>%
filter(!is.na(rank)) %>%
dplyr::mutate(samptime_coarse = lubridate::round_date(samptime_datetime, unit = "minute")) %>%
group_by(score) %>%
summarize(count = n()) %>%
ungroup() -> top_page_scores
top_page_scores
top_page_scores %>%
filter(score <= 10) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_continuous(breaks = seq(1, 10, by = 1)) +
theme(panel.grid.minor.x = element_blank())
top_page_scores %>%
filter((score > 10) & (score <= 100)) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_continuous(breaks = seq(10, 100, by = 1)) +
theme(panel.grid.minor.x = element_blank())
top_page_scores %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_discrete(limits = c(100, 1000))
top_page_scores %>%
filter((score > 10) & (score <= 100)) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_continuous(breaks = seq(10, 100, by = 1)) +
theme(panel.grid.minor.x = element_blank())
top_page_scores %>%
filter((score > 10) & (score <= 100)) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_continuous(breaks = seq(10, 100, by = 10)) +
theme(panel.grid.minor.x = element_blank())
data %>%
select(id, score, rank, samptime_datetime) %>%
filter(!is.na(rank)) %>%
dplyr::mutate(samptime_coarse = lubridate::round_date(samptime_datetime, unit = "minute")) %>%
group_by(score) %>%
summarize(count = n()) %>%
ungroup() -> top_page_scores
top_page_scores
top_page_scores %>%
filter(score <= 10) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_continuous(breaks = seq(1, 10, by = 1)) +
theme(panel.grid.minor.x = element_blank())
top_page_scores %>%
filter((score > 10) & (score <= 100)) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_continuous(breaks = seq(10, 100, by = 10)) +
theme(panel.grid.minor.x = element_blank())
top_page_scores %>%
filter((score > 100) & (score <= 1000)) %>%
ggplot(aes(x = score, y = count)) +
geom_bar(stat = "identity") +
scale_x_continuous(breaks = seq(100, 1000, by = 100)) +
theme(panel.grid.minor.x = element_blank())
data %>%
filter(!is.na(rank))
data %>%
filter(!is.na(rank)) %>%
select(id)
data %>%
filter(!is.na(rank)) %>%
select(id) %>%
unique()
data %>%
filter(!is.na(rank)) %>%
select(id) %>%
unique() -> top_story_achievers
data %>%
filter(id) %>%
unique() -> all_ids
data %>%
select(id)
data %>%
select(id) %>%
unique()
data %>%
select(id) %>%
unique()
data %>%
select(id) %>%
unique() -> all_ids
dplyr::setdiff(top_story_achievers, all_ids)
dim(top_story_achievers)[1]
dim(top_story_achievers)[1] / dim(all_ids)[1]
percentage_top_story_achievers <- dim(top_story_achievers)[1] / dim(all_ids)[1]
percentage_top_story_achievers
data %>%
filter(rank <= 100) %>%
select(id) %>%
unique()
data %>%
filter(!is.na(rank)) %>%
select(id) %>%
unique() -> top_story_achievers
data %>%
filter(rank <= 100) %>%
select(id) %>%
unique() -> top_100_achievers
data %>%
filter(rank <= 30) %>%
select(id) %>%
unique() -> top_30_achievers
data %>%
select(id) %>%
unique() -> all_ids
percentage_top_story_achievers <- dim(top_story_achievers)[1] / dim(all_ids)[1]
percentage_top_100_achievers <- dim(top_100_achievers)[1] / dim(all_ids)[1]
percentage_top_30_achievers <- dim(top_30_achievers)[1] / dim(all_ids)[1]
percentage_top_story_achievers
percentage_top_100_achievers
percentage_top_30_achievers
newpage_moving_window
newpage_moving_window %>%
group_by(id) %>%
summarize(gained_votes = max(score) - 1)
newpage_moving_window %>%
group_by(id) %>%
summarize(gained_votes = max(score) - 1) %>%
ungroup() -> gained_votes_per_id_newpage
gained_votes_per_id_newpage
gained_votes_per_id_newpage %>%
group_by(gained_votes) %>%
summarize(count = n())
gained_votes_per_id_newpage %>%
group_by(gained_votes) %>%
summarize(count = n()) %>%
ggplot(aes(x = gained_votes, y = count)) +
geom_bar(stat = "identity")
gained_votes_per_id_newpage %>%
group_by(gained_votes) %>%
summarize(count = n()) %>%
ggplot(aes(x = gained_votes, y = count)) +
geom_bar(stat = "identity") +
scale_x_log10()
gained_votes_per_id_newpage %>%
group_by(gained_votes) %>%
summarize(count = n()) %>%
filter(gained_votes <= 100) %>%
ggplot(aes(x = gained_votes, y = count)) +
geom_bar(stat = "identity")
gained_votes_per_id_newpage
gained_votes_per_id_newpage$gained_votes %>% mean()
gained_votes_per_id_newpage$gained_votes
mean(gained_votes_per_id_newpage$gained_votes)
gained_votes_per_id_newpage %>%
filter(!is.na(gained_votes))
gained_votes_per_id_newpage
gained_votes_per_id_newpage
data %>%
filter(id == 25870990)
data %>%
filter(id == 25870990)
gained_votes_per_id_newpage %>%
filter(!is.na(gained_votes))
newpage_moving_window %>%
group_by(id) %>%
summarize(gained_votes = max(score) - 1) %>%
ungroup() -> gained_votes_per_id_newpage
gained_votes_per_id_newpage %>%
filter(!is.na(gained_votes)) %>%
group_by(gained_votes) %>%
summarize(count = n()) %>%
filter(gained_votes <= 100) %>%
ggplot(aes(x = gained_votes, y = count)) +
geom_bar(stat = "identity")
gained_votes_per_id_newpage %>%
filter(!is.na(gained_votes)) %>%
mean()
gained_votes_per_id_newpage %>%
filter(!is.na(gained_votes)) -> gained_votes_per_id_newpage_nondeleted
gained_votes_per_id_newpage_nondeleted$gained_votes %>% mean()
Each story seems to gain 17.4 votes while on the `new` page on average. Whether or not that is due to being there is not clear. This has to be contrasted with what happens when the stories goes further down on the `new` page.

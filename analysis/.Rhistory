# geom_histogram() +
geom_density() +
scale_x_datetime(date_breaks = "4 hours") +
theme(
axis.text.x = element_text(angle = 45, vjust = 0, hjust = 0.5)
)
topstories %>%
ggplot(aes(x = creation_time)) +
# geom_histogram() +
geom_density() +
scale_x_datetime(date_breaks = "4 hours") +
theme(
axis.text.x = element_text(angle = 45, vjust = 0, hjust = 0)
)
topstories %>%
ggplot(aes(x = creation_time)) +
# geom_histogram() +
geom_density() +
scale_x_datetime(date_breaks = "4 hours") +
theme(
axis.text.x = element_text(angle = 90)
)
topstories %>%
ggplot(aes(x = creation_time)) +
# geom_histogram() +
geom_density() +
scale_x_datetime(date_breaks = "4 hours") +
theme_hn +
theme(axis.text.x = element_text(angle = 90))
knitr::opts_chunk$set(echo = FALSE, message = FALSE)
library(tidyverse)
library(magrittr)
library(ggpubr)
source("helpers.R")
topstories %>%
ggplot(aes(x = creation_time)) +
# geom_histogram() +
geom_density() +
scale_x_datetime(date_breaks = "4 hours") +
theme_hn() +
theme(axis.text.x = element_text(angle = 90))
topstories %>%
ggplot(aes(x = creation_time)) +
# geom_histogram() +
geom_density(color = "white") +
scale_x_datetime(date_breaks = "4 hours") +
theme_hn() +
theme(axis.text.x = element_text(angle = 90))
topstories %>%
ggplot(aes(x = creation_time)) +
# geom_histogram() +
geom_density(color = "white", fill = "white") +
scale_x_datetime(date_breaks = "4 hours") +
theme_hn() +
theme(axis.text.x = element_text(angle = 90))
topstories %>%
ggplot(aes(x = creation_time)) +
# geom_histogram() +
geom_density(color = "white", fill = "white", alpha = 0.7) +
scale_x_datetime(date_breaks = "4 hours") +
theme_hn() +
theme(axis.text.x = element_text(angle = 90))
topstories %>%
ggplot(aes(x = creation_time)) +
# geom_histogram() +
geom_density(color = "white", fill = "white", alpha = 0.5) +
scale_x_datetime(date_breaks = "4 hours") +
theme_hn() +
theme(axis.text.x = element_text(angle = 90))
topstories %>%
ggplot(aes(x = creation_time)) +
# geom_histogram() +
geom_density(color = "white", fill = "white", alpha = 0.5, size = 2) +
scale_x_datetime(date_breaks = "4 hours") +
theme_hn() +
theme(axis.text.x = element_text(angle = 90))
topstories
topstories %>%
ggplot(aes(x = score)) +
geom_histogram()
topstories %>%
ggplot(aes(x = score)) +
geom_histogram(fill = "white") +
theme_hn()
topstories
topstories %>%
ggplot(aes(x = comment_count)) +
geom_histogram()
topstories %>%
ggplot(aes(x = comment_count)) +
geom_histogram(binwidth = 1)
topstories %>%
ggplot(aes(x = comment_count)) +
geom_histogram(binwidth = 10)
topstories %>%
filter(comment_count < 1000) +
ggplot(aes(x = comment_count)) +
geom_histogram(binwidth = 10)
ggplot(aes(x = comment_count)) +
topstories %>%
filter(comment_count < 1000) %>%
ggplot(aes(x = comment_count)) +
geom_histogram(binwidth = 10)
topstories %>%
filter(comment_count < 1000)
topstories %>%
filter(comment_count < 1000) %>%
ggplot(aes(x = comment_count)) +
geom_histogram(binwidth = 10)
topstories %>%
filter(comment_count < 500) %>%
ggplot(aes(x = comment_count)) +
geom_histogram(binwidth = 10)
topstories %>%
filter(comment_count < 500) %>%
ggplot(aes(x = comment_count)) +
geom_histogram(binwidth = 10) +
theme_hn()
topstories %>%
filter(comment_count < 500) %>%
ggplot(aes(x = comment_count)) +
geom_histogram(binwidth = 10, fill = "white") +
theme_hn()
topstories
topstories %>%
filter(rank == 1)
topstories %>%
filter(rank_at_timestamp == 1)
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique()
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
topstories %>%
inner_join(rank_one_joiner, by = c("id"))
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp)) +
geom_point() +
geom_line() +
scale_y_continuous(trans = "reverse") +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp)) +
geom_point() +
geom_line() +
# scale_y_continuous(trans = "reverse") +
NULL
topstories
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp))) +
geom_point() +
geom_line() +
# scale_y_continuous(trans = "reverse") +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp))) +
geom_point() +
geom_line() +
scale_y_continuous(trans = "reverse") +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp))) +
geom_point(size = 0.3, alpha = 0.3) +
geom_line() +
scale_y_continuous(trans = "reverse") +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp))) +
geom_point(size = 0.3, alpha = 0.3) +
geom_line(size = 0.1, alpha = 0.2) +
scale_y_continuous(trans = "reverse") +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 0.3, alpha = 0.3) +
geom_line(size = 0.1, alpha = 0.2) +
scale_y_continuous(trans = "reverse") +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 0.3, alpha = 0.3) +
geom_line(size = 0.1, alpha = 0.2) +
scale_y_continuous(trans = "reverse") +
theme_hn()
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 0.8, alpha = 0.3) +
geom_line(size = 0.3, alpha = 0.2) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
NULL
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 1, alpha = 0.3) +
geom_line(size = 1, alpha = 0.2) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 1, alpha = 0.3) +
geom_line(size = 1, alpha = 0.2) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
theme(legend.position = element_blank())
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 1, alpha = 0.3) +
geom_line(size = 1, alpha = 0.2) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
theme(legend.position = "None") +
NULL
ggplot("topstory_development.jpg", width = 8, height = 4)
ggsave("topstory_development.jpg", width = 8, height = 4)
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 1) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
theme(legend.position = "None") +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 1) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
theme(legend.position = "None") +
NULL
ggsave("topstory_development.jpg", width = 8, height = 4)
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
filter(rank_at_timestamp >= 30) +
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 1) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
theme(legend.position = "None") +
NULL
topstories
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
filter(as.numeric(rank_at_timestamp) >= 30) +
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 1) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
theme(legend.position = "None") +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
filter(rank_at_timestamp <= 30) +
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 1) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
theme(legend.position = "None") +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
filter(rank_at_timestamp <= 30)
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
filter(rank_at_timestamp <= 30) +
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 0.7, alpha = 0.8)
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
# filter(rank_at_timestamp <= 30) +
ggplot(aes(x = slice_timestamp, y = as.numeric(rank_at_timestamp), color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 1) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
theme(legend.position = "None") +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
filter(rank_at_timestamp <= 30) +
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 1) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
theme(legend.position = "None") +
NULL
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
filter(rank_at_timestamp <= 30)
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
filter(rank_at_timestamp <= 30) +
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id))
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
filter(rank_at_timestamp <= 30) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 1) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
theme(legend.position = "None") +
NULL
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 1) +
scale_y_continuous(trans = "reverse") +
theme_hn() +
theme(legend.position = "None") +
NULL
ggsave("topstory_development.jpg", width = 8, height = 4)
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 1) +
scale_y_continuous(trans = "reverse", limits = c(30, 1)) +
theme_hn() +
theme(legend.position = "None") +
NULL
ggsave("topstory_development.jpg", width = 8, height = 4)
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 0.6) +
scale_y_continuous(trans = "reverse", limits = c(30, 1)) +
theme_hn() +
theme(legend.position = "None") +
NULL
ggsave("topstory_development.jpg", width = 8, height = 4)
min_rank <- 100
min_rank <- 100
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 0.6) +
scale_y_continuous(trans = "reverse", limits = c(min_rank, 1)) +
theme_hn() +
theme(legend.position = "None") +
NULL
ggsave("topstory_development.jpg", width = 8, height = 4)
min_rank <- 500
min_rank <- 500
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 0.6) +
scale_y_continuous(trans = "reverse", limits = c(min_rank, 1)) +
theme_hn() +
theme(legend.position = "None") +
NULL
ggsave("topstory_development.jpg", width = 8, height = 4)
min_rank <- 180
min_rank <- 180
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 0.6) +
scale_y_continuous(trans = "reverse", limits = c(min_rank, 1)) +
theme_hn() +
theme(legend.position = "None") +
NULL
ggsave("topstory_development.jpg", width = 8, height = 4)
min_rank <- 160
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.7, alpha = 0.8) +
geom_line(size = 0.7, alpha = 0.6) +
scale_y_continuous(trans = "reverse", limits = c(min_rank, 1)) +
theme_hn() +
theme(legend.position = "None") +
NULL
ggsave("topstory_development.jpg", width = 8, height = 4)
min_rank <- 160
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.2, alpha = 0.8) +
geom_line(size = 0.2, alpha = 0.6) +
scale_y_continuous(trans = "reverse", limits = c(min_rank, 1)) +
theme_hn() +
theme(legend.position = "None") +
NULL
ggsave("topstory_development.jpg", width = 8, height = 4)
color_scheme <- viridis::viridis(dim(rank_one_joiner)[1])
color_scheme
color_scheme <- sample(viridis::viridis(dim(rank_one_joiner)[1]))
color_scheme
min_rank <- 160
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
color_scheme <- sample(viridis::viridis(dim(rank_one_joiner)[1]))
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.2, alpha = 0.8) +
geom_line(size = 0.2, alpha = 0.6) +
scale_y_continuous(trans = "reverse", limits = c(min_rank, 1)) +
theme_hn() +
theme(legend.position = "None") +
NULL
ggsave("topstory_development.jpg", width = 8, height = 4)
min_rank <- 160
topstories %>%
filter(rank_at_timestamp == 1) %>%
select(id) %>%
unique() -> rank_one_joiner
color_scheme <- sample(viridis::viridis(dim(rank_one_joiner)[1]))
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.2, alpha = 0.8) +
geom_line(size = 0.2, alpha = 0.6) +
scale_color_manual(values = color_scheme) +
scale_y_continuous(trans = "reverse", limits = c(min_rank, 1)) +
theme_hn() +
theme(legend.position = "None") +
NULL
ggsave("topstory_development.jpg", width = 8, height = 4)
color_scheme <- sample(viridis::magma(dim(rank_one_joiner)[1]))
topstories %>%
inner_join(rank_one_joiner, by = c("id")) %>%
mutate(rank_at_timestamp = as.numeric(rank_at_timestamp)) %>%
ggplot(aes(x = slice_timestamp, y = rank_at_timestamp, color = id)) +
geom_point(size = 0.2, alpha = 0.8) +
geom_line(size = 0.2, alpha = 0.6) +
scale_color_manual(values = color_scheme) +
scale_y_continuous(trans = "reverse", limits = c(min_rank, 1)) +
theme_hn() +
theme(legend.position = "None") +
NULL

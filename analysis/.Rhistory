timestamp = as.Date.POSIXct(timestamp),
rank_at_timestamp = as.ordered(rank_at_timestamp))
h1_data %>%
mutate(id = as.factor(id),
score = as.numeric(score),
comment_count = as.numeric(comment_count),
timestamp = as.POSIXct.POSIXlt(timestamp),
rank_at_timestamp = as.ordered(rank_at_timestamp))
h1_data %>%
mutate(id = as.factor(id),
score = as.numeric(score),
comment_count = as.numeric(comment_count),
timestamp = as.POSIXct(timestamp),
rank_at_timestamp = as.ordered(rank_at_timestamp))
h1_data %>%
mutate(id = as.factor(id),
score = as.numeric(score),
comment_count = as.numeric(comment_count),
timestamp = as.POSIXct(timestamp, origin = "1970-01-01", tz = "UTC"),
rank_at_timestamp = as.ordered(rank_at_timestamp))
h1_data %>%
mutate(id = as.factor(id),
creation_time = as.POSIXct(creation_time, origin = "1970-01-01", tz = "UTC"),
score = as.numeric(score),
comment_count = as.numeric(comment_count),
timestamp = as.POSIXct(timestamp, origin = "1970-01-01", tz = "UTC"),
rank_at_timestamp = as.ordered(rank_at_timestamp))
h1_data <- arrow::read_feather(file.path("..", "data", "h1_data.feather"))
eda_data <- arrow::read_feather(file.path("..", "data", "eda_data.feather"))
h1_data %<>%
mutate(id = as.factor(id),
creation_time = as.POSIXct(creation_time, origin = "1970-01-01", tz = "UTC"),
score = as.numeric(score),
comment_count = as.numeric(comment_count),
timestamp = as.POSIXct(timestamp, origin = "1970-01-01", tz = "UTC"),
rank_at_timestamp = as.ordered(rank_at_timestamp))
eda_data %<>%
mutate(id = as.factor(id),
creation_time = as.POSIXct(creation_time, origin = "1970-01-01", tz = "UTC"),
score = as.numeric(score),
comment_count = as.numeric(comment_count),
timestamp = as.POSIXct(timestamp, origin = "1970-01-01", tz = "UTC"),
rank_at_timestamp = as.ordered(rank_at_timestamp))
h1_data
h1_data %>%
filter(rank_at_timestamp <= 10)
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_line()
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point()
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line()
h1_data
h1_data$timestamp
h1_data$timestamp %>% unique()
h1_data$timestamp %>% unique() %>% order_by(timestamp)
h1_data %>%
group_by(timestamp) %>%
summarize(timestamp = unique(timetstamp))
h1_data %>%
group_by(timestamp) %>%
summarize(timestamp = unique(timestamp))
?arrange
h1_data %>%
group_by(timestamp) %>%
summarize(timestamp = unique(timestamp)) %>%
arrange(timestamp)
h1_data %>%
group_by(timestamp) %>%
summarize(timestamp = unique(timestamp)) %>%
ungroup() %>%
arrange(timestamp)
timestamp_ordering$ts_id <- 1:dim(timestamp_ordering)[1]
h1_data %>%
group_by(timestamp) %>%
summarize(timestamp = unique(timestamp)) %>%
ungroup() %>%
arrange(timestamp) -> timestamp_ordering
timestamp_ordering$ts_id <- 1:dim(timestamp_ordering)[1]
timestamp_ordering
h1_data %>%
inner_join(timestamp_ordering, by = "timestamp")
h1_data %<>% inner_join(timestamp_ordering, by = "timestamp")
h1_data %>%
group_by(timestamp) %>%
summarize(timestamp = unique(timestamp)) %>%
ungroup() %>%
arrange(timestamp) -> timestamp_ordering
timestamp_ordering$ts_id <- 1:dim(timestamp_ordering)[1]
h1_data %<>% inner_join(timestamp_ordering, by = "timestamp")
h1_data <- arrow::read_feather(file.path("..", "data", "h1_data.feather"))
eda_data <- arrow::read_feather(file.path("..", "data", "eda_data.feather"))
h1_data %<>%
mutate(id = as.factor(id),
creation_time = as.POSIXct(creation_time, origin = "1970-01-01", tz = "UTC"),
score = as.numeric(score),
comment_count = as.numeric(comment_count),
timestamp = as.POSIXct(timestamp, origin = "1970-01-01", tz = "UTC"),
rank_at_timestamp = as.ordered(rank_at_timestamp))
eda_data %<>%
mutate(id = as.factor(id),
creation_time = as.POSIXct(creation_time, origin = "1970-01-01", tz = "UTC"),
score = as.numeric(score),
comment_count = as.numeric(comment_count),
timestamp = as.POSIXct(timestamp, origin = "1970-01-01", tz = "UTC"),
rank_at_timestamp = as.ordered(rank_at_timestamp))
h1_data <- arrow::read_feather(file.path("..", "data", "h1_data.feather"))
eda_data <- arrow::read_feather(file.path("..", "data", "eda_data.feather"))
h1_data %<>%
mutate(id = as.factor(id),
creation_time = as.POSIXct(creation_time, origin = "1970-01-01", tz = "UTC"),
score = as.numeric(score),
comment_count = as.numeric(comment_count),
timestamp = as.POSIXct(timestamp, origin = "1970-01-01", tz = "UTC"),
rank_at_timestamp = as.ordered(rank_at_timestamp))
eda_data %<>%
mutate(id = as.factor(id),
creation_time = as.POSIXct(creation_time, origin = "1970-01-01", tz = "UTC"),
score = as.numeric(score),
comment_count = as.numeric(comment_count),
timestamp = as.POSIXct(timestamp, origin = "1970-01-01", tz = "UTC"),
rank_at_timestamp = as.ordered(rank_at_timestamp))
h1_data %>%
group_by(timestamp) %>%
summarize(timestamp = unique(timestamp)) %>%
ungroup() %>%
arrange(timestamp) -> timestamp_ordering
timestamp_ordering$ts_id <- 1:dim(timestamp_ordering)[1]
h1_data %<>% inner_join(timestamp_ordering, by = "timestamp")
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line()
h1_data %>%
filter(ts_id %% 2 == 0)
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 2 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line()
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme(legend.position = "None")
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 3 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line()
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme(legend.position = "None")
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 2 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme(legend.position = "None")
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 3 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme(legend.position = "None")
library(ggpubr)
source("helpers.R")
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme_hn() +
theme(legend.position = "None")
source('C:/Users/naka9/Desktop/Arbeitsplatz/Digitale Muendigkeit/voting-protocols/hacker-news-analysis/analysis/helpers.R', echo=TRUE)
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme_hn() +
theme(legend.position = "None")
theme(plot.background = element_rect(color = "grey50", fill = "grey50"),
panel.background = element_rect(color = "grey30", fill = "grey30"),
panel.grid.major.x = element_line(color = "grey50", size = 2))
source('C:/Users/naka9/Desktop/Arbeitsplatz/Digitale Muendigkeit/voting-protocols/hacker-news-analysis/analysis/helpers.R', echo=TRUE)
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme_hn() +
theme(legend.position = "None")
source('C:/Users/naka9/Desktop/Arbeitsplatz/Digitale Muendigkeit/voting-protocols/hacker-news-analysis/analysis/helpers.R', echo=TRUE)
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme_hn() +
theme(legend.position = "None")
source('C:/Users/naka9/Desktop/Arbeitsplatz/Digitale Muendigkeit/voting-protocols/hacker-news-analysis/analysis/helpers.R', echo=TRUE)
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme_hn() +
theme(legend.position = "None")
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 2 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme(legend.position = "None")
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 3 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme(legend.position = "None")
source('C:/Users/naka9/Desktop/Arbeitsplatz/Digitale Muendigkeit/voting-protocols/hacker-news-analysis/analysis/helpers.R', echo=TRUE)
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme_hn() +
theme(legend.position = "None")
ggarrange(p1, p2, p3, n_col = 1)
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme_hn() +
theme(legend.position = "None") -> p1
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 2 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme_hn() +
theme(legend.position = "None") -> p2
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 3 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
theme_hn() +
theme(legend.position = "None") -> p3
ggarrange(p1, p2, p3, n_col = 1)
ggarrange(p1, p2, p3, n_col = 1, nrow = 3)
source('C:/Users/naka9/Desktop/Arbeitsplatz/Digitale Muendigkeit/voting-protocols/hacker-news-analysis/analysis/helpers.R', echo=TRUE)
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "Sampling Rate: 2 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p1
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 2 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "Sampling Rate: 4 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p2
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 3 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "Sampling Rate: 6 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p3
ggarrange(p1, p2, p3, n_col = 1, nrow = 3) + theme_hn()
ggarrange(p1, p2, p3, n_col = 1, nrow = 3)
ggarrange(p1, p2, p3, n_col = 1, nrow = 3) +
theme(plot.background = element_rect(color = "grey50", fill = "grey50"))
ggarrange(p1, p2, p3) +
theme(plot.background = element_rect(color = "grey50", fill = "grey50"))
ggarrange(p1, p2, p3, nrow = 3) +
theme(plot.background = element_rect(color = "grey50", fill = "grey50"))
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "2 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p1
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 2 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "4 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p2
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 3 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "6 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p3
ggarrange(p1, p2, p3, nrow = 1) +
theme(plot.background = element_rect(color = "grey50", fill = "grey50")) +
annotate_figure(top = "Development of Top 10 Stories for Different Sampling Rates")
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "2 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p1
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 2 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "4 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p2
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 3 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "6 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p3
ggarrange(p1, p2, p3, nrow = 1) +
annotate_figure(top = "Development of Top 10 Stories for Different Sampling Rates") +
theme(plot.background = element_rect(color = "grey50", fill = "grey50")) +
NULL
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "2 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p1
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 2 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "4 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p2
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 3 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "6 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p3
ggarrange(p1, p2, p3, nrow = 1) %>%
annotate_figure(top = "Development of Top 10 Stories for Different Sampling Rates") +
theme(plot.background = element_rect(color = "grey50", fill = "grey50")) +
NULL
ggarrange(p1, p2, p3, nrow = 1) %>%
annotate_figure(top = text_grob(label = "Development of Top 10 Stories for Different Sampling Rates",
color = "white",
size = 13)) +
theme(plot.background = element_rect(color = "grey50", fill = "grey50")) +
NULL
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "2 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p1
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 2 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "4 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p2
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
filter(ts_id %% 3 == 0) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
labs(title = "6 Minutes",
x = "Timestamp",
y = "Score") +
theme_hn() +
theme(legend.position = "None") -> p3
ggarrange(p1, p2, p3, nrow = 1) %>%
annotate_figure(top = text_grob(label = "Development of Top 10 Stories for Different Sampling Rates",
color = "white",
size = 15)) +
theme(plot.background = element_rect(color = "grey50", fill = "grey50")) +
NULL
theme(plot.background = element_rect(color = "#e5e5e5", fill = "#e5e5e5"),
plot.title = element_text(color = "white"),
panel.background = element_rect(color = "grey30", fill = "grey30"),
panel.grid.major.x = element_line(color = "grey50", size = 1),
panel.grid.minor.x = element_line(color = "grey50", size = 0.7),
panel.grid.major.y = element_line(color = "grey50", size = 1),
panel.grid.minor.y = element_line(color = "grey50", size = 0.7),
axis.title.x = element_text(color = "white"),
axis.title.y = element_text(color = "white"),
axis.text.x = element_text(color = "grey80"),
axis.text.y = element_text(color = "grey80"))
source('C:/Users/naka9/Desktop/Arbeitsplatz/Digitale Muendigkeit/voting-protocols/hacker-news-analysis/analysis/helpers.R', echo=TRUE)
plot_details <- theme_hn() +
labs(x = "Timestamp",
y = "Score") +
theme(legend.position = "None",
panel.grid.minor = element_blank())
plot_details <- theme_hn() +
theme(legend.position = "None",
panel.grid.minor = element_blank())
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
ggtitle("2 Minutes") +
labs(x = "Timestamp",
y = "Score") +
plot_details +
theme(legend.position = "None") -> p1
p1
source("helpers.R")
plot_details <- theme_hn() +
theme(legend.position = "None",
panel.grid.minor = element_blank())
h1_data %>%
filter(rank_at_timestamp <= 10) %>%
ggplot(aes(x = timestamp, y = score, color = id)) +
geom_point() +
geom_line() +
ggtitle("2 Minutes") +
labs(x = "Timestamp",
y = "Score") +
plot_details +
theme(legend.position = "None") -> p1
p1
24 * 30 * 500
